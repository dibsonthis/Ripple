import io
import [] : string

const loadObject = (filePath: String): Mesh => {
    const src = io.readf(filePath)
    const lines = src.split("\n")

    var vecs: [Vec3] = []
    var triangles: [Triangle] = []

    for (lines, i, line) {
        if (line[0] == "v") {
            const vecLine = line.split()
            var vec = vec3(vecLine[1].number(), vecLine[2].number(), vecLine[3].number())
            vecs.append(vec)
        } else if (line[0] == "f") {
            const fLine = line.split()
            var tri = triangle(vecs[fLine[1].number() - 1], vecs[fLine[2].number() - 1], vecs[fLine[3].number() - 1])
            triangles.append(tri)
        }
    }

   Mesh {triangles: triangles}
}