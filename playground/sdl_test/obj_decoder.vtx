import io
import [] : string

const vec = (x = 0, y = 0, z = 0) => {
    return {x: x, y: y, z: z}
}

const triangle = (a, b, c) => {
    return {a: a, b: b, c: c}
}

const append = (list, value) => {
    list[list.length()] = value
}

const loadObject = (filePath) => {
    const src = io.readf(filePath)
    const lines = src.split("\n")

    var vecs = []
    var triangles = []

    for (lines, i, line) {
        if (line[0] == "v") {
            const vecLine = line.split()
            var vec = vec3(vecLine[1].number(), vecLine[2].number(), vecLine[3].number())
            vecs.append(vec)
        } else if (line[0] == "f") {
            const fLine = line.split()
            var tri = triangle(vecs[fLine[1].number() - 1], vecs[fLine[2].number() - 1], vecs[fLine[3].number() - 1])
            triangles.append(tri)
        }
    }

   return { triangles: triangles }
}